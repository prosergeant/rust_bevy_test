# План доработки главного меню

## Текущая ситуация
Главное меню работает с клавиатурными сокращениями:
- Пробел: начать игру
- Esc: выход из игры

## Требуемые изменения
Заменить текстовые подсказки на интерактивные кнопки:
- Кнопка "Начать"
- Кнопка "Выход"

## План выполнения работ

### ✅ 1. Создание компонентов для кнопок
- ✅ Создать компонент `MenuButton` для идентификации кнопок меню
- ✅ Создать компоненты `StartButton` и `ExitButton` для конкретных кнопок

### ✅ 2. Реализация системы обработки кликов
- ✅ Создать систему для обработки кликов мыши по кнопкам
- ✅ Добавить систему для визуальной обратной связи (hover эффекты)

### ✅ 3. Модификация функции spawn_main_menu
- ✅ Заменить текстовые элементы на интерактивные кнопки
- ✅ Настроить стили кнопок (размер, цвет, отступы)
- ✅ Добавить текстовые метки на кнопки

### ✅ 4. Обновление логики переходов
- ✅ Изменить систему `transition_to_game_state` для обработки кликов по кнопкам
- ✅ Удалить обработку пробела в главном меню
- ✅ Сохранить обработку Esc для выхода

### ✅ 5. Тестирование
- ✅ Проверить работу кнопок "Начать" и "Выход"
- ✅ Убедиться в корректной работе hover эффектов
- ✅ Проверить сохранение функциональности в других состояниях игры

## Файлы измененные
- ✅ `src/core/mod.rs` - добавление новых компонентов и систем, модификация spawn_main_menu
- ✅ `src/core/systems.rs` - обновление логики переходов, добавление обработки кликов
- ✅ `src/core/components.rs` - добавление компонентов кнопок

## Результат
Интерактивное главное меню с двумя кнопками, которое обеспечивает более интуитивное управление игрой.

## Реализованные изменения

### Компоненты (`src/core/components.rs`)
```rust
#[derive(Component)]
pub struct MenuButton;

#[derive(Component)]
pub struct StartButton;

#[derive(Component)]
pub struct ExitButton;
```

### Системы (`src/core/systems.rs`)
- `handle_menu_button_clicks` - обработка кликов по кнопкам
- `menu_button_hover_effect` - визуальная обратная связь при наведении

### Интерфейс (`src/core/mod.rs`)
- Заменены текстовые подсказки на интерактивные кнопки
- Настроены стили кнопок (200x50px, серый фон)
- Добавлен hover-эффект (изменение цвета при наведении)

## Функциональность
- Кнопка "Начать": переход к игре (MainMenu → PreGame)
- Кнопка "Выход": выход из приложения
- Hover-эффекты для визуальной обратной связи
- Сохранена работа Esc для выхода
- Пробел работает только в GameOver для возврата в меню